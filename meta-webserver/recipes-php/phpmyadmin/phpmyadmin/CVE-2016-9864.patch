From d74714c45ec246d179aa4b19d81c30903cdff876 Mon Sep 17 00:00:00 2001
From: Deven Bansod <devenbansod.bits@gmail.com>
Date: Tue, 11 Oct 2016 10:46:35 +0530
Subject: [PATCH] Manage new-lines and extra whitespaces properly

Signed-off-by: Deven Bansod <devenbansod.bits@gmail.com>
---
 libraries/Tracker.php |    3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/libraries/Tracker.php b/libraries/Tracker.php
index a4cb56c..91ff014 100644
--- a/libraries/Tracker.php
+++ b/libraries/Tracker.php
@@ -144,8 +144,9 @@ class Tracker
     static public function getLogComment()
     {
         $date = date('Y-m-d H:i:s');
+        $user = preg_replace('/\s+/', ' ', $GLOBALS['cfg']['Server']['user']);
 
-        return "# log " . $date . " " . $GLOBALS['cfg']['Server']['user'] . "\n";
+        return "# log " . $date . " " . $user . "\n";
     }
 
     /**
-- 
1.7.9.5

