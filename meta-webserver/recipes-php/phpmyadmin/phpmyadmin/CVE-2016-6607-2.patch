From 987cce0bcf2f0ba9b705638343872f56283a0508 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michal=20=C4=8Ciha=C5=99?= <michal@cihar.com>
Date: Wed, 13 Jul 2016 11:10:44 +0200
Subject: [PATCH] Properly escape foreign key selection
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Michal Čihař <michal@cihar.com>
---
 js/tbl_relation.js |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/js/tbl_relation.js b/js/tbl_relation.js
index 130fb45..e6498ee 100644
--- a/js/tbl_relation.js
+++ b/js/tbl_relation.js
@@ -23,7 +23,7 @@ function setDropdownValues($dropdown, values, selectedValue) {
     // add an empty string to the beginning for empty selection
     values.unshift('');
     $.each(values, function () {
-        optionsAsString += "<option value='" + this + "'" + (selectedValue == this ? " selected='selected'" : "") + ">" + this + "</option>";
+        optionsAsString += "<option value='" + escapeHtml(this) + "'" + (selectedValue == this ? " selected='selected'" : "") + ">" + escapeHtml(this) + "</option>";
     });
     $dropdown.append($(optionsAsString));
 }
-- 
1.7.9.5

