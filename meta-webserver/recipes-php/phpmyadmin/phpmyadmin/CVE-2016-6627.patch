From 67b538efc3e480168c8377e4bf2390120a914c07 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michal=20=C4=8Ciha=C5=99?= <michal@cihar.com>
Date: Fri, 22 Jul 2016 12:19:35 +0200
Subject: [PATCH] Send standard set of HTTP headers on redirect
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Michal Čihař <michal@cihar.com>
---
 url.php |    5 +++++
 1 file changed, 5 insertions(+)

diff --git a/url.php b/url.php
index 41896f2..60b0f7d 100644
--- a/url.php
+++ b/url.php
@@ -16,6 +16,11 @@ require_once './libraries/common.inc.php';
  */
 require_once './libraries/js_escape.lib.php';
 
+// Only output the http headers
+$response = PMA\libraries\Response::getInstance();
+$response->getHeader()->sendHttpHeaders();
+$response->disable();
+
 if (! PMA_isValid($_REQUEST['url'])
     || ! preg_match('/^https:\/\/[^\n\r]*$/', $_REQUEST['url'])
     || ! PMA_isAllowedDomain($_REQUEST['url'])
-- 
1.7.9.5

