From 77a4d6ed9504b37d7cd26bcea26f30ecc6afdadd Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Michal=20=C4=8Ciha=C5=99?= <michal@cihar.com>
Date: Tue, 26 Jul 2016 16:39:40 +0200
Subject: [PATCH] Move generator scripts out of the code
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Michal Čihař <michal@cihar.com>
---
 .../transformations/generator_main_class.sh        |   16 -----
 .../plugins/transformations/generator_plugin.sh    |   64 --------------------
 scripts/transformations_generator_main_class.sh    |   16 +++++
 scripts/transformations_generator_plugin.sh        |   64 ++++++++++++++++++++
 4 files changed, 80 insertions(+), 80 deletions(-)
 delete mode 100755 libraries/plugins/transformations/generator_main_class.sh
 delete mode 100755 libraries/plugins/transformations/generator_plugin.sh
 create mode 100755 scripts/transformations_generator_main_class.sh
 create mode 100755 scripts/transformations_generator_plugin.sh

diff --git a/libraries/plugins/transformations/generator_main_class.sh b/libraries/plugins/transformations/generator_main_class.sh
deleted file mode 100755
index 0587667..0000000
--- a/libraries/plugins/transformations/generator_main_class.sh
+++ /dev/null
@@ -1,16 +0,0 @@
-#!/bin/bash
-#
-# Shell script that creates only the main class for a new transformation
-# plug-in, using a template
-#
-# $1: MIMEType
-# $2: MIMESubtype
-# $3: Transformation Name
-
-if [ $# != 3 ]
-then
-  echo -e "Usage: ./generator_main_class.sh MIMEType MIMESubtype TransformationName\n"
-  exit 65
-fi
-
-./generator_plugin.sh "$1" "$2" "$3" "--generate_only_main_class"
\ No newline at end of file
diff --git a/libraries/plugins/transformations/generator_plugin.sh b/libraries/plugins/transformations/generator_plugin.sh
deleted file mode 100755
index 9120725..0000000
--- a/libraries/plugins/transformations/generator_plugin.sh
+++ /dev/null
@@ -1,64 +0,0 @@
-#!/bin/bash
-#
-# Shell script that creates a new transformation plug-in (both main and
-# abstract class) using a template.
-#
-# The 'description' parameter will add a new entry in the language file.
-# Watch out for special escaping.
-#
-# $1: MIMEType
-# $2: MIMESubtype
-# $3: Transformation Name
-# $4: (optional) Description
-
-echo $#
-if [ $# -ne 3 -a $# -ne 4 ]; then
-  echo -e "Usage: ./generator_plugin.sh MIMEType MIMESubtype TransformationName [Description]\n"
-  exit 65
-fi
-
-# make sure that the MIME Type, MIME Subtype and Transformation names
-# are in the correct format
-
-# make all names lowercase
-MT="`echo $1 | tr [:upper:] [:lower:]`"
-MS="`echo $2 | tr [:upper:] [:lower:]`"
-TN="`echo $3 | tr [:upper:] [:lower:]`"
-# make first letter uppercase
-MT="${MT^}"
-MS="${MS^}"
-TN="${TN^}"
-# make the first letter after each underscore uppercase
-MT="`echo $MT`"
-MT="`echo $MT |  sed -e 's/_./\U&\E/g'`"
-MS="`echo $MS`"
-MS="`echo $MS |  sed -e 's/_./\U&\E/g'`"
-TN="`echo $TN`"
-TN="`echo $TN |  sed -e 's/_./\U&\E/g'`"
-
-# define the name of the main class file and of its template
-ClassFile=$MT\_$MS\_$TN.php
-Template=TEMPLATE
-# define the name of the abstract class file and its template
-AbstractClassFile=abs/"$TN"TransformationsPlugin.php
-AbstractTemplate=TEMPLATE_ABSTRACT
-# replace template names with argument names
-sed "s/\[MIMEType]/$MT/; s/\[MIMESubtype\]/$MS/; s/\[TransformationName\]/$TN/;" < $Template > $ClassFile
-echo "Created $ClassFile"
-
-GenerateAbstractClass=1
-if [ -n $4 ]; then
-    if [ "$4" == "--generate_only_main_class" ]; then
-        if [ -e $AbstractClassFile ]; then
-            GenerateAbstractClass=0
-        fi
-    fi
-fi
-
-if [ $GenerateAbstractClass -eq 1 ]; then
-    # replace template names with argument names
-    sed "s/\[TransformationName\]/$TN/; s/Description of the transformation./$4/;" < $AbstractTemplate > $AbstractClassFile
-    echo "Created $AbstractClassFile"
-fi
-
-echo ""
\ No newline at end of file
diff --git a/scripts/transformations_generator_main_class.sh b/scripts/transformations_generator_main_class.sh
new file mode 100755
index 0000000..0587667
--- /dev/null
+++ b/scripts/transformations_generator_main_class.sh
@@ -0,0 +1,16 @@
+#!/bin/bash
+#
+# Shell script that creates only the main class for a new transformation
+# plug-in, using a template
+#
+# $1: MIMEType
+# $2: MIMESubtype
+# $3: Transformation Name
+
+if [ $# != 3 ]
+then
+  echo -e "Usage: ./generator_main_class.sh MIMEType MIMESubtype TransformationName\n"
+  exit 65
+fi
+
+./generator_plugin.sh "$1" "$2" "$3" "--generate_only_main_class"
\ No newline at end of file
diff --git a/scripts/transformations_generator_plugin.sh b/scripts/transformations_generator_plugin.sh
new file mode 100755
index 0000000..9120725
--- /dev/null
+++ b/scripts/transformations_generator_plugin.sh
@@ -0,0 +1,64 @@
+#!/bin/bash
+#
+# Shell script that creates a new transformation plug-in (both main and
+# abstract class) using a template.
+#
+# The 'description' parameter will add a new entry in the language file.
+# Watch out for special escaping.
+#
+# $1: MIMEType
+# $2: MIMESubtype
+# $3: Transformation Name
+# $4: (optional) Description
+
+echo $#
+if [ $# -ne 3 -a $# -ne 4 ]; then
+  echo -e "Usage: ./generator_plugin.sh MIMEType MIMESubtype TransformationName [Description]\n"
+  exit 65
+fi
+
+# make sure that the MIME Type, MIME Subtype and Transformation names
+# are in the correct format
+
+# make all names lowercase
+MT="`echo $1 | tr [:upper:] [:lower:]`"
+MS="`echo $2 | tr [:upper:] [:lower:]`"
+TN="`echo $3 | tr [:upper:] [:lower:]`"
+# make first letter uppercase
+MT="${MT^}"
+MS="${MS^}"
+TN="${TN^}"
+# make the first letter after each underscore uppercase
+MT="`echo $MT`"
+MT="`echo $MT |  sed -e 's/_./\U&\E/g'`"
+MS="`echo $MS`"
+MS="`echo $MS |  sed -e 's/_./\U&\E/g'`"
+TN="`echo $TN`"
+TN="`echo $TN |  sed -e 's/_./\U&\E/g'`"
+
+# define the name of the main class file and of its template
+ClassFile=$MT\_$MS\_$TN.php
+Template=TEMPLATE
+# define the name of the abstract class file and its template
+AbstractClassFile=abs/"$TN"TransformationsPlugin.php
+AbstractTemplate=TEMPLATE_ABSTRACT
+# replace template names with argument names
+sed "s/\[MIMEType]/$MT/; s/\[MIMESubtype\]/$MS/; s/\[TransformationName\]/$TN/;" < $Template > $ClassFile
+echo "Created $ClassFile"
+
+GenerateAbstractClass=1
+if [ -n $4 ]; then
+    if [ "$4" == "--generate_only_main_class" ]; then
+        if [ -e $AbstractClassFile ]; then
+            GenerateAbstractClass=0
+        fi
+    fi
+fi
+
+if [ $GenerateAbstractClass -eq 1 ]; then
+    # replace template names with argument names
+    sed "s/\[TransformationName\]/$TN/; s/Description of the transformation./$4/;" < $AbstractTemplate > $AbstractClassFile
+    echo "Created $AbstractClassFile"
+fi
+
+echo ""
\ No newline at end of file
-- 
1.7.9.5

